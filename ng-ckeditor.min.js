/*! ngCkeditor v0.2.1 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-ckeditor - New BSD License */

"use strict";!function(a,b){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(a){return b(a)}):b(a)}(angular||null,function(a){function b(b){return a.isString(b)?b.replace(/<@clink anchorId="(\d+)"><\/@clink>/g,'<div cid="$1"></div>'):b}function c(b){return a.isString(b)?b.replace(/<div cid="(\d+)"><\/div>/g,'<@clink anchorId="$1"></@clink>'):b}var d,e=a.module("ngCkeditor",[]),f=!1;return e.run(["$q","$timeout",function(b,c){function e(){"loaded"===CKEDITOR.status?(f=!0,d.resolve()):e()}if(d=b.defer(),a.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",e),c(e,100)}]),e.directive("ckeditor",["$timeout","$q",function(e,g){return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(h,i,j,k){var l=k[0],m=k[1]||null,n="<p></p>",o="textarea"===i[0].tagName.toLowerCase(),p=[],q=!1;o||i.attr("contenteditable",!0);var r=function(){var d={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"};d=a.extend(d,h[j.ckeditor]);var f=o?CKEDITOR.replace(i[0],d):CKEDITOR.inline(i[0],d),k=g.defer();i.bind("$destroy",function(){f&&CKEDITOR.instances[f.name]&&CKEDITOR.instances[f.name].destroy()}),l.$parsers.push(c),l.$formatters.push(b);var r=function(a){var b=f.getData();e(function(){(a!==!0||b!==l.$viewValue)&&l.$setViewValue(b),a===!0&&m&&m.$setPristine()},0)},s=function(a){if(p.length){var b=p.pop()||n;q=!1,f.setData(b,function(){r(a),q=!0})}};f.on("pasteState",r),f.on("change",r),f.on("blur",r),f.on("key",r),f.on("instanceReady",function(){h.$broadcast("ckeditor.ready"),h.$apply(function(){s(!0)}),f.document.on("keyup",r)}),f.on("customConfigLoaded",function(){k.resolve()}),l.$render=function(){p.push(l.$viewValue),q&&s()}};"loaded"===CKEDITOR.status&&(f=!0),f?r():d.promise.then(r)}}}]),e});
//# sourceMappingURL=ng-ckeditor.min.js.map